## 项目架构

![image-20210317195139006](image/image-20210317195139006.png)



![image-20210316211551381](D:\java\java-notes\image\image-20210316211551381.png)



![image-20210317195544331](image/image-20210317195544331.png)



Http或rpc远程调用

![image-20210317195656828](image/image-20210317195656828.png)

![image-20210317195838905](image/image-20210317195838905.png)

![image-20210317200122335](image/image-20210317200122335.png)



![image-20210317200018096](image/image-20210317200018096.png)

> 用户每次下单，创建一个异步线程。必须创建**线程池**，来处理异步任务。（不创建线程池，不限制异步线程的数量，会导致内存吃紧，频繁的gc，内存oom)(异步线程建议不处理复制业务逻辑)

![image-20210317201140352](image/image-20210317201140352.png)

![image-20210317201417576](image/image-20210317201417576.png)

![image-20210317201930231](image/image-20210317201930231.png)

![image-20210317202504850](image/image-20210317202504850.png)

![image-20210317202549096](image/image-20210317202549096.png)

## RabbitMQ介绍

### AMQP协议	

![image-20210317204859584](image/image-20210317204859584.png)

![image-20210317205056200](image/image-20210317205056200.png)

![image-20210317205117660](image/image-20210317205117660.png)

![image-20210317205230405](image/image-20210317205230405.png)







![image-20210316211802073](D:\java\java-notes\image\image-20210316211802073.png)





![image-20210316211811764](D:\java\java-notes\image\image-20210316211811764.png)

